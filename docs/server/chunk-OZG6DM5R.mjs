import './polyfills.server.mjs';
import{$ as ce,A as $e,Aa as Z,B as Le,Ba as K,C as j,Ca as Bt,D as S,E as l,Ea as Xe,F as h,Fa as Wn,G as B,Ga as Zn,H as Nt,Ha as Kn,I as w,Ia as Qn,J as I,K as ee,L as jn,La as Xn,M as kt,N as Pn,O as Un,P as se,Q as ae,R as te,Ra as $t,S as jt,T as He,U as ze,V as Gn,W as Pt,X as T,Y as A,Z as Ut,_ as ne,a as J,aa as qe,b as Ne,ba as $,c as ke,ca as ue,d as En,da as y,e as je,ea as _,f as Vn,fa as L,g as Pe,ga as We,h as Sn,ha as x,i as Ot,ia as Gt,j as In,ja as Bn,k,ka as $n,l as Mn,la as Ln,m as Tt,ma as V,n as oe,na as be,o as Fn,oa as Ze,p as wn,pa as Ke,q as xn,qa as Hn,r as On,ra as zn,s as Tn,t as Rn,ta as qn,u as Ue,v as Nn,w as kn,x as Rt,y as Ge,ya as Qe,z as Be}from"./chunk-FCE7KAZV.mjs";import{a as g,b}from"./chunk-5XUXGTUW.mjs";var ri=(()=>{class e{constructor(n,i){this._renderer=n,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(i){return new(i||e)(A(Ut),A(Pt))}}static{this.\u0275dir=ee({type:e})}}return e})(),oi=(()=>{class e extends ri{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=te(e)))(r||e)}})()}static{this.\u0275dir=ee({type:e,features:[ce]})}}return e})(),Wt=new l(""),Ar={provide:Wt,useExisting:Le(()=>Zt),multi:!0},Zt=(()=>{class e extends oi{writeValue(n){this.setProperty("checked",n)}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=te(e)))(r||e)}})()}static{this.\u0275dir=ee({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){i&1&&x("change",function(a){return r.onChange(a.target.checked)})("blur",function(){return r.onTouched()})},features:[Ze([Ar]),ce]})}}return e})(),Er={provide:Wt,useExisting:Le(()=>pe),multi:!0};function Vr(){let e=Bt()?Bt().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var Sr=new l(""),pe=(()=>{class e extends ri{constructor(n,i,r){super(n,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Vr())}writeValue(n){let i=n??"";this.setProperty("value",i)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(i){return new(i||e)(A(Ut),A(Pt),A(Sr,8))}}static{this.\u0275dir=ee({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&x("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[Ze([Er]),ce]})}}return e})();function Q(e){return e==null||(typeof e=="string"||Array.isArray(e))&&e.length===0}function si(e){return e!=null&&typeof e.length=="number"}var Ir=new l(""),Mr=new l(""),Fr=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,he=class{static min(t){return wr(t)}static max(t){return xr(t)}static required(t){return Or(t)}static requiredTrue(t){return Tr(t)}static email(t){return Rr(t)}static minLength(t){return Nr(t)}static maxLength(t){return kr(t)}static pattern(t){return jr(t)}static nullValidator(t){return ai(t)}static compose(t){return fi(t)}static composeAsync(t){return mi(t)}};function wr(e){return t=>{if(Q(t.value)||Q(e))return null;let n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}function xr(e){return t=>{if(Q(t.value)||Q(e))return null;let n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}function Or(e){return Q(e.value)?{required:!0}:null}function Tr(e){return e.value===!0?null:{required:!0}}function Rr(e){return Q(e.value)||Fr.test(e.value)?null:{email:!0}}function Nr(e){return t=>Q(t.value)||!si(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}function kr(e){return t=>si(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}function jr(e){if(!e)return ai;let t,n;return typeof e=="string"?(n="",e.charAt(0)!=="^"&&(n+="^"),n+=e,e.charAt(e.length-1)!=="$"&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),i=>{if(Q(i.value))return null;let r=i.value;return t.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function ai(e){return null}function ci(e){return e!=null}function ui(e){return qn(e)?Sn(e):e}function li(e){let t={};return e.forEach(n=>{t=n!=null?g(g({},t),n):t}),Object.keys(t).length===0?null:t}function di(e,t){return t.map(n=>n(e))}function Pr(e){return!e.validate}function hi(e){return e.map(t=>Pr(t)?t:n=>t.validate(n))}function fi(e){if(!e)return null;let t=e.filter(ci);return t.length==0?null:function(n){return li(di(n,t))}}function pi(e){return e!=null?fi(hi(e)):null}function mi(e){if(!e)return null;let t=e.filter(ci);return t.length==0?null:function(n){let i=di(n,t).map(ui);return Mn(i).pipe(k(li))}}function gi(e){return e!=null?mi(hi(e)):null}function Yn(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function yi(e){return e._rawValidators}function vi(e){return e._rawAsyncValidators}function Lt(e){return e?Array.isArray(e)?e:[e]:[]}function Je(e,t){return Array.isArray(e)?e.includes(t):e===t}function Jn(e,t){let n=Lt(t);return Lt(e).forEach(r=>{Je(n,r)||n.push(r)}),n}function ei(e,t){return Lt(t).filter(n=>!Je(e,n))}var Ht=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=pi(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=gi(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}};var Se=class extends Ht{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},zt=class{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Ur={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Rs=b(g({},Ur),{"[class.ng-submitted]":"isSubmitted"}),nt=(()=>{class e extends zt{constructor(n){super(n)}static{this.\u0275fac=function(i){return new(i||e)(A(Se,2))}}static{this.\u0275dir=ee({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&ue("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[ce]})}}return e})();var De="VALID",Ye="INVALID",le="PENDING",Ae="DISABLED",fe=class{},et=class extends fe{constructor(t,n){super(),this.value=t,this.source=n}},Ee=class extends fe{constructor(t,n){super(),this.pristine=t,this.source=n}},Ve=class extends fe{constructor(t,n){super(),this.touched=t,this.source=n}},de=class extends fe{constructor(t,n){super(),this.status=t,this.source=n}};function Gr(e){return(it(e)?e.validators:e)||null}function Br(e){return Array.isArray(e)?pi(e):e||null}function $r(e,t){return(it(t)?t.asyncValidators:e)||null}function Lr(e){return Array.isArray(e)?gi(e):e||null}function it(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}var qt=class{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Z(()=>this.statusReactive()),this.statusReactive=ne(void 0),this._pristine=Z(()=>this.pristineReactive()),this.pristineReactive=ne(!0),this._touched=Z(()=>this.touchedReactive()),this.touchedReactive=ne(!1),this._events=new Ne,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return K(this.statusReactive)}set status(t){K(()=>this.statusReactive.set(t))}get valid(){return this.status===De}get invalid(){return this.status===Ye}get pending(){return this.status==le}get disabled(){return this.status===Ae}get enabled(){return this.status!==Ae}get pristine(){return K(this.pristineReactive)}set pristine(t){K(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return K(this.touchedReactive)}set touched(t){K(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Jn(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Jn(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(ei(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(ei(t,this._rawAsyncValidators))}hasValidator(t){return Je(this._rawValidators,t)}hasAsyncValidator(t){return Je(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(b(g({},t),{sourceControl:i})),n&&t.emitEvent!==!1&&this._events.next(new Ve(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),n&&t.emitEvent!==!1&&this._events.next(new Ve(!1,i))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(b(g({},t),{sourceControl:i})),n&&t.emitEvent!==!1&&this._events.next(new Ee(!1,i))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),n&&t.emitEvent!==!1&&this._events.next(new Ee(!0,i))}markAsPending(t={}){this.status=le;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new de(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(b(g({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Ae,this.errors=null,this._forEachChild(r=>{r.disable(b(g({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new et(this.value,i)),this._events.next(new de(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(b(g({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=De,this._forEachChild(i=>{i.enable(b(g({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(b(g({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===De||this.status===le)&&this._runAsyncValidator(i,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new et(this.value,n)),this._events.next(new de(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(b(g({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ae:De}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=le,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let i=ui(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(t,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new de(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,i)}_initObservables(){this.valueChanges=new He,this.statusChanges=new He}_calculateStatus(){return this._allControlsDisabled()?Ae:this.errors?Ye:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(le)?le:this._anyControlsHaveStatus(Ye)?Ye:De}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),r&&this._events.next(new Ee(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new Ve(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){it(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=Br(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=Lr(this._rawAsyncValidators)}};var _i=new l("CallSetDisabledState",{providedIn:"root",factory:()=>Kt}),Kt="always";function Hr(e,t,n=Kt){qr(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),Zr(e,t),Qr(e,t),Kr(e,t),zr(e,t)}function ti(e,t,n=!0){let i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Wr(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function tt(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function zr(e,t){if(t.valueAccessor.setDisabledState){let n=i=>{t.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function qr(e,t){let n=yi(e);t.validator!==null?e.setValidators(Yn(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let i=vi(e);t.asyncValidator!==null?e.setAsyncValidators(Yn(i,t.asyncValidator)):typeof i=="function"&&e.setAsyncValidators([i]);let r=()=>e.updateValueAndValidity();tt(t._rawValidators,r),tt(t._rawAsyncValidators,r)}function Wr(e,t){let n=!1;if(e!==null){if(t.validator!==null){let r=yi(e);if(Array.isArray(r)&&r.length>0){let o=r.filter(a=>a!==t.validator);o.length!==r.length&&(n=!0,e.setValidators(o))}}if(t.asyncValidator!==null){let r=vi(e);if(Array.isArray(r)&&r.length>0){let o=r.filter(a=>a!==t.asyncValidator);o.length!==r.length&&(n=!0,e.setAsyncValidators(o))}}}let i=()=>{};return tt(t._rawValidators,i),tt(t._rawAsyncValidators,i),n}function Zr(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&Ci(e,t)})}function Kr(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&Ci(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function Ci(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Qr(e,t){let n=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function Xr(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function Yr(e){return Object.getPrototypeOf(e.constructor)===oi}function Jr(e,t){if(!t)return null;Array.isArray(t);let n,i,r;return t.forEach(o=>{o.constructor===pe?n=o:Yr(o)?i=o:r=o}),r||i||n||null}function ni(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function ii(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var ie=class extends qt{constructor(t=null,n,i){super(Gr(n),$r(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),it(n)&&(n.nonNullable||n.initialValueIsDefault)&&(ii(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){ni(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){ni(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){ii(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var bi=new l(""),eo={provide:Se,useExisting:Le(()=>Ie)},Ie=(()=>{class e extends Se{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,i,r,o,a){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=a,this.update=new He,this._ngModelWarningSent=!1,this._setValidators(n),this._setAsyncValidators(i),this.valueAccessor=Jr(this,r)}ngOnChanges(n){if(this._isControlChanged(n)){let i=n.form.previousValue;i&&ti(i,this,!1),Hr(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Xr(n,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&ti(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_isControlChanged(n){return n.hasOwnProperty("form")}static{this.\u0275fac=function(i){return new(i||e)(A(Ir,10),A(Mr,10),A(Wt,10),A(bi,8),A(_i,8))}}static{this.\u0275dir=ee({type:e,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Ze([eo]),ce,Un]})}}return e})();var to=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=I({type:e})}static{this.\u0275inj=S({})}}return e})();var rt=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:bi,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:_i,useValue:n.callSetDisabledState??Kt}]}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=I({type:e})}static{this.\u0275inj=S({imports:[to]})}}return e})();var no=[],ot=class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=I({type:e});static \u0275inj=S({imports:[$t.forRoot(no),$t]})};function Me(e,t){let n=!t?.manualCleanup;n&&!t?.injector&&Pn(Me);let i=n?t?.injector?.get(jt)??B(jt):null,r=io(t?.equal),o;t?.requireSync?o=ne({kind:0},{equal:r}):o=ne({kind:1,value:t?.initialValue},{equal:r});let a=e.subscribe({next:u=>o.set({kind:1,value:u}),error:u=>{if(t?.rejectErrors)throw u;o.set({kind:2,error:u})}});if(t?.requireSync&&o().kind===0)throw new $e(601,!1);return i?.onDestroy(a.unsubscribe.bind(a)),Z(()=>{let u=o();switch(u.kind){case 1:return u.value;case 2:throw u.error;case 0:throw new $e(601,!1)}},{equal:t?.equal})}function io(e=Object.is){return(t,n)=>t.kind===1&&n.kind===1&&e(t.value,n.value)}var Jt={};function z(e,t){if(Jt[e]=(Jt[e]||0)+1,typeof t=="function")return Qt(e,(...i)=>b(g({},t(...i)),{type:e}));switch(t?t._as:"empty"){case"empty":return Qt(e,()=>({type:e}));case"props":return Qt(e,i=>b(g({},i),{type:e}));default:throw new Error("Unexpected config.")}}function X(){return{_as:"props",_p:void 0}}function Qt(e,t){return Object.defineProperty(t,"type",{value:e,writable:!1})}var we="@ngrx/store/init",H=(()=>{class e extends ke{constructor(){super({type:we})}next(n){if(typeof n=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof n>"u")throw new TypeError("Actions must be objects");if(typeof n.type>"u")throw new TypeError("Actions must have a type property");super.next(n)}complete(){}ngOnDestroy(){super.complete()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac})}}return e})(),ro=[H],ji=new l("@ngrx/store Internal Root Guard"),Ai=new l("@ngrx/store Internal Initial State"),xe=new l("@ngrx/store Initial State"),Pi=new l("@ngrx/store Reducer Factory"),Ei=new l("@ngrx/store Internal Reducer Factory Provider"),Ui=new l("@ngrx/store Initial Reducers"),Xt=new l("@ngrx/store Internal Initial Reducers"),Vi=new l("@ngrx/store Store Features"),Si=new l("@ngrx/store Internal Store Reducers"),Yt=new l("@ngrx/store Internal Feature Reducers"),Ii=new l("@ngrx/store Internal Feature Configs"),Gi=new l("@ngrx/store Internal Store Features"),Mi=new l("@ngrx/store Internal Feature Reducers Token"),Bi=new l("@ngrx/store Feature Reducers"),Fi=new l("@ngrx/store User Provided Meta Reducers"),st=new l("@ngrx/store Meta Reducers"),wi=new l("@ngrx/store Internal Resolved Meta Reducers"),xi=new l("@ngrx/store User Runtime Checks Config"),Oi=new l("@ngrx/store Internal User Runtime Checks Config"),Fe=new l("@ngrx/store Internal Runtime Checks"),rn=new l("@ngrx/store Check if Action types are unique"),Js=new l("@ngrx/store Root Store Provider"),ea=new l("@ngrx/store Feature State Provider");function on(e,t={}){let n=Object.keys(e),i={};for(let o=0;o<n.length;o++){let a=n[o];typeof e[a]=="function"&&(i[a]=e[a])}let r=Object.keys(i);return function(a,u){a=a===void 0?t:a;let d=!1,s={};for(let v=0;v<r.length;v++){let c=r[v],m=i[c],M=a[c],p=m(M,u);s[c]=p,d=d||p!==M}return d?s:a}}function oo(e,t){return Object.keys(e).filter(n=>n!==t).reduce((n,i)=>Object.assign(n,{[i]:e[i]}),{})}function $i(...e){return function(t){if(e.length===0)return t;let n=e[e.length-1];return e.slice(0,-1).reduceRight((r,o)=>o(r),n(t))}}function Li(e,t){return Array.isArray(t)&&t.length>0&&(e=$i.apply(null,[...t,e])),(n,i)=>{let r=e(n);return(o,a)=>(o=o===void 0?i:o,r(o,a))}}function so(e){let t=Array.isArray(e)&&e.length>0?$i(...e):n=>n;return(n,i)=>(n=t(n),(r,o)=>(r=r===void 0?i:r,n(r,o)))}var re=class extends J{},me=class extends H{},ct="@ngrx/store/update-reducers",at=(()=>{class e extends ke{get currentReducers(){return this.reducers}constructor(n,i,r,o){super(o(r,i)),this.dispatcher=n,this.initialState=i,this.reducers=r,this.reducerFactory=o}addFeature(n){this.addFeatures([n])}addFeatures(n){let i=n.reduce((r,{reducers:o,reducerFactory:a,metaReducers:u,initialState:d,key:s})=>{let v=typeof o=="function"?so(u)(o,d):Li(a,u)(o,d);return r[s]=v,r},{});this.addReducers(i)}removeFeature(n){this.removeFeatures([n])}removeFeatures(n){this.removeReducers(n.map(i=>i.key))}addReducer(n,i){this.addReducers({[n]:i})}addReducers(n){this.reducers=g(g({},this.reducers),n),this.updateReducers(Object.keys(n))}removeReducer(n){this.removeReducers([n])}removeReducers(n){n.forEach(i=>{this.reducers=oo(this.reducers,i)}),this.updateReducers(n)}updateReducers(n){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:ct,features:n})}ngOnDestroy(){this.complete()}static{this.\u0275fac=function(i){return new(i||e)(h(me),h(xe),h(Ui),h(Pi))}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac})}}return e})(),ao=[at,{provide:re,useExisting:at},{provide:me,useExisting:H}],Oe=(()=>{class e extends Ne{ngOnDestroy(){this.complete()}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=te(e)))(r||e)}})()}static{this.\u0275prov=j({token:e,factory:e.\u0275fac})}}return e})(),co=[Oe],ge=class extends J{},Ti=(()=>{class e extends ke{static{this.INIT=we}constructor(n,i,r,o){super(o);let u=n.pipe(Pe(je)).pipe(Be(i)),d={state:o},s=u.pipe(Ue(uo,d));this.stateSubscription=s.subscribe(({state:v,action:c})=>{this.next(v),r.next(c)}),this.state=Me(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static{this.\u0275fac=function(i){return new(i||e)(h(H),h(re),h(Oe),h(xe))}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac})}}return e})();function uo(e={state:void 0},[t,n]){let{state:i}=e;return{state:n(i,t),action:t}}var lo=[Ti,{provide:ge,useExisting:Ti}],R=(()=>{class e extends J{constructor(n,i,r){super(),this.actionsObserver=i,this.reducerManager=r,this.source=n,this.state=n.state}select(n,...i){return fo.call(null,n,...i)(this)}selectSignal(n,i){return Z(()=>n(this.state()),i)}lift(n){let i=new e(this,this.actionsObserver,this.reducerManager);return i.operator=n,i}dispatch(n){this.actionsObserver.next(n)}next(n){this.actionsObserver.next(n)}error(n){this.actionsObserver.error(n)}complete(){this.actionsObserver.complete()}addReducer(n,i){this.reducerManager.addReducer(n,i)}removeReducer(n){this.reducerManager.removeReducer(n)}static{this.\u0275fac=function(i){return new(i||e)(h(ge),h(H),h(at))}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac})}}return e})(),ho=[R];function fo(e,t,...n){return function(r){let o;if(typeof e=="string"){let a=[t,...n].filter(Boolean);o=r.pipe(Rn(e,...a))}else if(typeof e=="function")o=r.pipe(k(a=>e(a,t)));else throw new TypeError(`Unexpected type '${typeof e}' in select operator, expected 'string' or 'function'`);return o.pipe(Tn())}}var sn="https://ngrx.io/guide/store/configuration/runtime-checks";function Ri(e){return e===void 0}function Ni(e){return e===null}function Hi(e){return Array.isArray(e)}function po(e){return typeof e=="string"}function mo(e){return typeof e=="boolean"}function go(e){return typeof e=="number"}function zi(e){return typeof e=="object"&&e!==null}function yo(e){return zi(e)&&!Hi(e)}function vo(e){if(!yo(e))return!1;let t=Object.getPrototypeOf(e);return t===Object.prototype||t===null}function en(e){return typeof e=="function"}function _o(e){return en(e)&&e.hasOwnProperty("\u0275cmp")}function Co(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function bo(e){return e instanceof l?B(e):e}function Do(e,t){return t.map((n,i)=>{if(e[i]instanceof l){let r=B(e[i]);return{key:n.key,reducerFactory:r.reducerFactory?r.reducerFactory:on,metaReducers:r.metaReducers?r.metaReducers:[],initialState:r.initialState}}return n})}function Ao(e){return e.map(t=>t instanceof l?B(t):t)}function qi(e){return typeof e=="function"?e():e}function Eo(e,t){return e.concat(t)}function Vo(){if(B(R,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function So(e,t){return function(n,i){let r=t.action(i)?tn(i):i,o=e(n,r);return t.state()?tn(o):o}}function tn(e){Object.freeze(e);let t=en(e);return Object.getOwnPropertyNames(e).forEach(n=>{if(!n.startsWith("\u0275")&&Co(e,n)&&(!t||n!=="caller"&&n!=="callee"&&n!=="arguments")){let i=e[n];(zi(i)||en(i))&&!Object.isFrozen(i)&&tn(i)}}),e}function Io(e,t){return function(n,i){if(t.action(i)){let o=nn(i);ki(o,"action")}let r=e(n,i);if(t.state()){let o=nn(r);ki(o,"state")}return r}}function nn(e,t=[]){return(Ri(e)||Ni(e))&&t.length===0?{path:["root"],value:e}:Object.keys(e).reduce((i,r)=>{if(i)return i;let o=e[r];return _o(o)?i:Ri(o)||Ni(o)||go(o)||mo(o)||po(o)||Hi(o)?!1:vo(o)?nn(o,[...t,r]):{path:[...t,r],value:o}},!1)}function ki(e,t){if(e===!1)return;let n=e.path.join("."),i=new Error(`Detected unserializable ${t} at "${n}". ${sn}#strict${t}serializability`);throw i.value=e.value,i.unserializablePath=n,i}function Mo(e,t){return function(n,i){if(t.action(i)&&!ze.isInAngularZone())throw new Error(`Action '${i.type}' running outside NgZone. ${sn}#strictactionwithinngzone`);return e(n,i)}}function Fo(e){return Qe()?g({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},e):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function wo({strictActionSerializability:e,strictStateSerializability:t}){return n=>e||t?Io(n,{action:i=>e&&!an(i),state:()=>t}):n}function xo({strictActionImmutability:e,strictStateImmutability:t}){return n=>e||t?So(n,{action:i=>e&&!an(i),state:()=>t}):n}function an(e){return e.type.startsWith("@ngrx")}function Oo({strictActionWithinNgZone:e}){return t=>e?Mo(t,{action:n=>e&&!an(n)}):t}function To(e){return[{provide:Oi,useValue:e},{provide:xi,useFactory:Ro,deps:[Oi]},{provide:Fe,deps:[xi],useFactory:Fo},{provide:st,multi:!0,deps:[Fe],useFactory:xo},{provide:st,multi:!0,deps:[Fe],useFactory:wo},{provide:st,multi:!0,deps:[Fe],useFactory:Oo}]}function Wi(){return[{provide:rn,multi:!0,deps:[Fe],useFactory:No}]}function Ro(e){return e}function No(e){if(!e.strictActionTypeUniqueness)return;let t=Object.entries(Jt).filter(([,n])=>n>1).map(([n])=>n);if(t.length)throw new Error(`Action types are registered more than once, ${t.map(n=>`"${n}"`).join(", ")}. ${sn}#strictactiontypeuniqueness`)}function ko(e={},t={}){return[{provide:ji,useFactory:Vo},{provide:Ai,useValue:t.initialState},{provide:xe,useFactory:qi,deps:[Ai]},{provide:Xt,useValue:e},{provide:Si,useExisting:e instanceof l?e:Xt},{provide:Ui,deps:[Xt,[new Nt(Si)]],useFactory:bo},{provide:Fi,useValue:t.metaReducers?t.metaReducers:[]},{provide:wi,deps:[st,Fi],useFactory:Eo},{provide:Ei,useValue:t.reducerFactory?t.reducerFactory:on},{provide:Pi,deps:[Ei,wi],useFactory:Li},ro,ao,co,lo,ho,To(t.runtimeChecks),Wi()]}function jo(e,t,n={}){return[{provide:Ii,multi:!0,useValue:e instanceof Object?{}:n},{provide:Vi,multi:!0,useValue:{key:e instanceof Object?e.name:e,reducerFactory:!(n instanceof l)&&n.reducerFactory?n.reducerFactory:on,metaReducers:!(n instanceof l)&&n.metaReducers?n.metaReducers:[],initialState:!(n instanceof l)&&n.initialState?n.initialState:void 0}},{provide:Gi,deps:[Ii,Vi],useFactory:Do},{provide:Yt,multi:!0,useValue:e instanceof Object?e.reducer:t},{provide:Mi,multi:!0,useExisting:t instanceof l?t:Yt},{provide:Bi,multi:!0,deps:[Yt,[new Nt(Mi)]],useFactory:Ao},Wi()]}var Zi=(()=>{class e{constructor(n,i,r,o,a,u){}static{this.\u0275fac=function(i){return new(i||e)(h(H),h(re),h(Oe),h(R),h(ji,8),h(rn,8))}}static{this.\u0275mod=I({type:e})}static{this.\u0275inj=S({})}}return e})(),Po=(()=>{class e{constructor(n,i,r,o,a){this.features=n,this.featureReducers=i,this.reducerManager=r;let u=n.map((d,s)=>{let c=i.shift()[s];return b(g({},d),{reducers:c,initialState:qi(d.initialState)})});r.addFeatures(u)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}static{this.\u0275fac=function(i){return new(i||e)(h(Gi),h(Bi),h(at),h(Zi),h(rn,8))}}static{this.\u0275mod=I({type:e})}static{this.\u0275inj=S({})}}return e})(),Ki=(()=>{class e{static forRoot(n,i){return{ngModule:Zi,providers:[...ko(n,i)]}}static forFeature(n,i,r={}){return{ngModule:Po,providers:[...jo(n,i,r)]}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=I({type:e})}static{this.\u0275inj=S({})}}return e})();function q(...e){let t=e.pop(),n=e.map(i=>i.type);return{reducer:t,types:n}}function ut(e,...t){let n=new Map;for(let i of t)for(let r of i.types){let o=n.get(r);if(o){let a=(u,d)=>i.reducer(o(u,d),d);n.set(r,a)}else n.set(r,i.reducer)}return function(i=e,r){let o=n.get(r.type);return o?o(i,r):i}}var lt=z("[TODO] Crear todo",X()),dt=z("[TODO] ToogleAll todo",X()),ht=z("[TODO] Toogle todo",X()),ft=z("[TODO] Editar todo",X()),pt=z("[TODO] Borrar todo",X()),mt=z("[TODO] Borrar todos completados");var gt=class e{constructor(t){this.store=t;this.txtInput=new ie("",he.required)}txtInput;ngOnInit(){}agregar(){this.txtInput.invalid||(this.store.dispatch(lt({texto:this.txtInput.value})),this.txtInput.reset())}static \u0275fac=function(n){return new(n||e)(A(R))};static \u0275cmp=w({type:e,selectors:[["app-todo-add"]],decls:4,vars:1,consts:[[1,"header"],["placeholder","\xBFQu\xE9 quieres hacer?","autofocus","",1,"new-todo",3,"keyup.enter","formControl"]],template:function(n,i){n&1&&(y(0,"header",0)(1,"h1"),V(2,"todos"),_(),y(3,"input",1),x("keyup.enter",function(){return i.agregar()}),_()()),n&2&&(T(3),$("formControl",i.txtInput))},dependencies:[pe,nt,Ie]})};var yt=z("[Filtro] Set filtro",X());function $o(e,t){if(e&1){let n=We();y(0,"li",5),x("click",function(){let r=se(n).$implicit,o=Gt();return ae(o.cambiarFiltro(r))}),y(1,"a",6),V(2),Ke(3,"titlecase"),_()()}if(e&2){let n=t.$implicit,i=Gt();T(),ue("selected",n===i.filtroActual),T(),be(Hn(3,3,n))}}var vt=class e{constructor(t){this.store=t}filtroActual="todos";filtros=["todos","completados","pendientes"];pendientes=0;ngOnInit(){this.store.subscribe(t=>{this.filtroActual=t.filtro,this.pendientes=t.todos.filter(n=>!n.completado).length})}cambiarFiltro(t){this.store.dispatch(yt({filtro:t}))}eliminarCompletados(){this.store.dispatch(mt())}static \u0275fac=function(n){return new(n||e)(A(R))};static \u0275cmp=w({type:e,selectors:[["app-todo-footer"]],decls:9,vars:2,consts:[[1,"footer"],[1,"todo-count"],[1,"filters"],[3,"click",4,"ngFor","ngForOf"],[1,"clear-completed",3,"click"],[3,"click"],["href","#/"]],template:function(n,i){n&1&&(y(0,"footer",0)(1,"span",1)(2,"strong"),V(3),_(),V(4," tareas pendientes"),_(),y(5,"ul",2),qe(6,$o,4,5,"li",3),_(),y(7,"button",4),x("click",function(){return i.eliminarCompletados()}),V(8,"Limpiar completados"),_()()),n&2&&(T(3),be(i.pendientes),T(3),$("ngForOf",i.filtros))},dependencies:[Xe,Wn]})};var Ho=["inputFisico"],_t=class e{constructor(t){this.store=t}todo;txtInputFisico;chkCompletado=new ie(!1);txtInput=new ie("");editando=!1;ngOnInit(){this.chkCompletado=new ie(this.todo.completado),this.txtInput=new ie(this.todo.texto,he.required),this.chkCompletado.valueChanges.subscribe(t=>{this.store.dispatch(ht({id:this.todo.id}))})}editar(){this.editando=!0,this.txtInput.setValue(this.todo.texto),setTimeout(()=>{this.txtInputFisico.nativeElement.select()},1)}terminarEdicion(){this.editando=!1,!this.txtInput.invalid&&this.txtInput.value!==this.todo.texto&&this.store.dispatch(ft({id:this.todo.id,texto:this.txtInput.value}))}borrar(){this.store.dispatch(pt({id:this.todo.id}))}static \u0275fac=function(n){return new(n||e)(A(R))};static \u0275cmp=w({type:e,selectors:[["app-todo-item"]],viewQuery:function(n,i){if(n&1&&Bn(Ho,5),n&2){let r;$n(r=Ln())&&(i.txtInputFisico=r.first)}},inputs:{todo:"todo"},decls:8,vars:7,consts:[["inputFisico",""],[1,"view"],["type","checkbox",1,"toggle",3,"formControl"],[3,"dblclick"],[1,"destroy",3,"click"],["type","text",1,"edit",3,"blur","formControl"]],template:function(n,i){if(n&1){let r=We();y(0,"li")(1,"div",1),L(2,"input",2),y(3,"label",3),x("dblclick",function(){return se(r),ae(i.editar())}),V(4),_(),y(5,"button",4),x("click",function(){return se(r),ae(i.borrar())}),_()(),y(6,"input",5,0),x("blur",function(){return se(r),ae(i.terminarEdicion())}),_()()}n&2&&(ue("completed",i.todo.completado)("editing",i.editando),T(2),$("formControl",i.chkCompletado),T(2),be(i.todo.texto),T(2),$("formControl",i.txtInput))},dependencies:[pe,Zt,nt,Ie]})};var Ct=class e{transform(t,n){switch(n){case"completados":return t.filter(i=>i.completado);case"pendientes":return t.filter(i=>!i.completado);default:return t}}static \u0275fac=function(n){return new(n||e)};static \u0275pipe=jn({name:"filtroTodo",type:e,pure:!0})};function Wo(e,t){if(e&1&&L(0,"app-todo-item",2),e&2){let n=t.$implicit;$("todo",n)}}var bt=class e{constructor(t){this.store=t}todos=[];filtroActual="todos";ngOnInit(){this.store.subscribe(({todos:t,filtro:n})=>{this.todos=t,this.filtroActual=n})}static \u0275fac=function(n){return new(n||e)(A(R))};static \u0275cmp=w({type:e,selectors:[["app-todo-list"]],decls:3,vars:4,consts:[[1,"todo-list"],[3,"todo",4,"ngFor","ngForOf"],[3,"todo"]],template:function(n,i){n&1&&(y(0,"ul",0),qe(1,Wo,1,1,"app-todo-item",1),Ke(2,"filtroTodo"),_()),n&2&&(T(),$("ngForOf",zn(2,1,i.todos,i.filtroActual)))},dependencies:[Xe,_t,Ct]})};var Dt=class e{constructor(t){this.store=t}completado=!1;ngOnInit(){}toggleAll(){this.completado=!this.completado,this.store.dispatch(dt({completado:this.completado}))}static \u0275fac=function(n){return new(n||e)(A(R))};static \u0275cmp=w({type:e,selectors:[["app-todo-page"]],decls:8,vars:0,consts:[[1,"todoapp"],[1,"main"],["id","toggle-all","type","checkbox",1,"toggle-all",3,"click"],["for","toggle-all"]],template:function(n,i){n&1&&(y(0,"section",0),L(1,"app-todo-add"),y(2,"section",1)(3,"input",2),x("click",function(){return i.toggleAll()}),_(),y(4,"label",3),V(5,"Mark all as complete"),_(),L(6,"app-todo-list"),_(),L(7,"app-todo-footer"),_())},dependencies:[gt,vt,bt]})};var At=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=w({type:e,selectors:[["app-footer"]],decls:15,vars:0,consts:[[1,"info"],["href","http://sindresorhus.com"],["href","http://todomvc.com"]],template:function(n,i){n&1&&(y(0,"footer",0)(1,"p"),V(2,"Double-click to edit a todo"),_(),y(3,"p"),V(4,"Template by "),y(5,"a",1),V(6,"Sindre Sorhus"),_()(),y(7,"p"),V(8,"Created by "),y(9,"a",2),V(10,"you"),_()(),y(11,"p"),V(12,"Part of "),y(13,"a",2),V(14,"TodoMVC"),_()()())}})};var _e=class e{title="todoapp";static \u0275fac=function(n){return new(n||e)};static \u0275cmp=w({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(n,i){n&1&&L(0,"app-todo-page")(1,"app-footer")},dependencies:[Dt,At]})};var Et=class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=I({type:e});static \u0275inj=S({imports:[Zn,rt]})};var Re="PERFORM_ACTION",Xo="REFRESH",tr="RESET",nr="ROLLBACK",ir="COMMIT",rr="SWEEP",or="TOGGLE_ACTION",Yo="SET_ACTIONS_ACTIVE",sr="JUMP_TO_STATE",ar="JUMP_TO_ACTION",bn="IMPORT_STATE",cr="LOCK_CHANGES",ur="PAUSE_RECORDING",Ce=class{constructor(t,n){if(this.action=t,this.timestamp=n,this.type=Re,typeof t.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},un=class{constructor(){this.type=Xo}},ln=class{constructor(t){this.timestamp=t,this.type=tr}},dn=class{constructor(t){this.timestamp=t,this.type=nr}},hn=class{constructor(t){this.timestamp=t,this.type=ir}},fn=class{constructor(){this.type=rr}},pn=class{constructor(t){this.id=t,this.type=or}};var mn=class{constructor(t){this.index=t,this.type=sr}},gn=class{constructor(t){this.actionId=t,this.type=ar}},yn=class{constructor(t){this.nextLiftedState=t,this.type=bn}},vn=class{constructor(t){this.status=t,this.type=cr}},_n=class{constructor(t){this.status=t,this.type=ur}};var Mt=new l("@ngrx/store-devtools Options"),Qi=new l("@ngrx/store-devtools Initial Config");function lr(){return null}var Jo="NgRx Store DevTools";function es(e){let t={maxAge:!1,monitor:lr,actionSanitizer:void 0,stateSanitizer:void 0,name:Jo,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},n=typeof e=="function"?e():e,i=n.logOnly?{pause:!0,export:!0,test:!0}:!1,r=n.features||i||t.features;r.import===!0&&(r.import="custom");let o=Object.assign({},t,{features:r},n);if(o.maxAge&&o.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${o.maxAge}`);return o}function Xi(e,t){return e.filter(n=>t.indexOf(n)<0)}function dr(e){let{computedStates:t,currentStateIndex:n}=e;if(n>=t.length){let{state:r}=t[t.length-1];return r}let{state:i}=t[n];return i}function Te(e){return new Ce(e,+Date.now())}function ts(e,t){return Object.keys(t).reduce((n,i)=>{let r=Number(i);return n[r]=hr(e,t[r],r),n},{})}function hr(e,t,n){return b(g({},t),{action:e(t.action,n)})}function ns(e,t){return t.map((n,i)=>({state:fr(e,n.state,i),error:n.error}))}function fr(e,t,n){return e(t,n)}function pr(e){return e.predicate||e.actionsSafelist||e.actionsBlocklist}function is(e,t,n,i){let r=[],o={},a=[];return e.stagedActionIds.forEach((u,d)=>{let s=e.actionsById[u];s&&(d&&Dn(e.computedStates[d],s,t,n,i)||(o[u]=s,r.push(u),a.push(e.computedStates[d])))}),b(g({},e),{stagedActionIds:r,actionsById:o,computedStates:a})}function Dn(e,t,n,i,r){let o=n&&!n(e,t.action),a=i&&!t.action.type.match(i.map(d=>Yi(d)).join("|")),u=r&&t.action.type.match(r.map(d=>Yi(d)).join("|"));return o||a||u}function Yi(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function mr(e){return{ngZone:e?B(ze):null,connectInZone:e}}var Ft=(()=>{class e extends H{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=te(e)))(r||e)}})()}static{this.\u0275prov=j({token:e,factory:e.\u0275fac})}}return e})(),Vt={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},Cn=new l("@ngrx/store-devtools Redux Devtools Extension"),gr=(()=>{class e{constructor(n,i,r){this.config=i,this.dispatcher=r,this.zoneConfig=mr(this.config.connectInZone),this.devtoolsExtension=n,this.createActionStreams()}notify(n,i){if(this.devtoolsExtension)if(n.type===Re){if(i.isLocked||i.isPaused)return;let r=dr(i);if(pr(this.config)&&Dn(r,n,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let o=this.config.stateSanitizer?fr(this.config.stateSanitizer,r,i.currentStateIndex):r,a=this.config.actionSanitizer?hr(this.config.actionSanitizer,n,i.nextActionId):n;this.sendToReduxDevtools(()=>this.extensionConnection.send(a,o))}else{let r=b(g({},i),{stagedActionIds:i.stagedActionIds,actionsById:this.config.actionSanitizer?ts(this.config.actionSanitizer,i.actionsById):i.actionsById,computedStates:this.config.stateSanitizer?ns(this.config.stateSanitizer,i.computedStates):i.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,r,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new J(n=>{let i=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=i,i.init(),i.subscribe(r=>n.next(r)),i.unsubscribe}):Vn}createActionStreams(){let n=this.createChangesObservable().pipe(Nn()),i=n.pipe(oe(s=>s.type===Vt.START)),r=n.pipe(oe(s=>s.type===Vt.STOP)),o=n.pipe(oe(s=>s.type===Vt.DISPATCH),k(s=>this.unwrapAction(s.payload)),wn(s=>s.type===bn?this.dispatcher.pipe(oe(v=>v.type===ct),In(1e3),xn(1e3),k(()=>s),Fn(()=>Ot(s)),On(1)):Ot(s))),u=n.pipe(oe(s=>s.type===Vt.ACTION),k(s=>this.unwrapAction(s.payload))).pipe(Ge(r)),d=o.pipe(Ge(r));this.start$=i.pipe(Ge(r)),this.actions$=this.start$.pipe(Rt(()=>u)),this.liftedActions$=this.start$.pipe(Rt(()=>d))}unwrapAction(n){return typeof n=="string"?(0,eval)(`(${n})`):n}getExtensionConfig(n){let i={name:n.name,features:n.features,serialize:n.serialize,autoPause:n.autoPause??!1,trace:n.trace??!1,traceLimit:n.traceLimit??75};return n.maxAge!==!1&&(i.maxAge=n.maxAge),i}sendToReduxDevtools(n){try{n()}catch(i){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",i)}}static{this.\u0275fac=function(i){return new(i||e)(h(Cn),h(Mt),h(Ft))}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac})}}return e})(),It={type:we},rs="@ngrx/store-devtools/recompute",os={type:rs};function yr(e,t,n,i,r){if(i)return{state:n,error:"Interrupted by an error up the chain"};let o=n,a;try{o=e(n,t)}catch(u){a=u.toString(),r.handleError(u)}return{state:o,error:a}}function St(e,t,n,i,r,o,a,u,d){if(t>=e.length&&e.length===o.length)return e;let s=e.slice(0,t),v=o.length-(d?1:0);for(let c=t;c<v;c++){let m=o[c],M=r[m].action,p=s[c-1],f=p?p.state:i,P=p?p.error:void 0,U=a.indexOf(m)>-1?p:yr(n,M,f,P,u);s.push(U)}return d&&s.push(e[e.length-1]),s}function ss(e,t){return{monitorState:t(void 0,{}),nextActionId:1,actionsById:{0:Te(It)},stagedActionIds:[0],skippedActionIds:[],committedState:e,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function as(e,t,n,i,r={}){return o=>(a,u)=>{let{monitorState:d,actionsById:s,nextActionId:v,stagedActionIds:c,skippedActionIds:m,committedState:M,currentStateIndex:p,computedStates:f,isLocked:P,isPaused:F}=a||t;a||(s=Object.create(s));function U(E){let D=E,W=c.slice(1,D+1);for(let N=0;N<W.length;N++)if(f[N+1].error){D=N,W=c.slice(1,D+1);break}else delete s[W[N]];m=m.filter(N=>W.indexOf(N)===-1),c=[0,...c.slice(D+1)],M=f[D].state,f=f.slice(D),p=p>D?p-D:0}function G(){s={0:Te(It)},v=1,c=[0],m=[],M=f[p].state,p=0,f=[]}let C=0;switch(u.type){case cr:{P=u.status,C=1/0;break}case ur:{F=u.status,F?(c=[...c,v],s[v]=new Ce({type:"@ngrx/devtools/pause"},+Date.now()),v++,C=c.length-1,f=f.concat(f[f.length-1]),p===c.length-2&&p++,C=1/0):G();break}case tr:{s={0:Te(It)},v=1,c=[0],m=[],M=e,p=0,f=[];break}case ir:{G();break}case nr:{s={0:Te(It)},v=1,c=[0],m=[],p=0,f=[];break}case or:{let{id:E}=u;m.indexOf(E)===-1?m=[E,...m]:m=m.filter(W=>W!==E),C=c.indexOf(E);break}case Yo:{let{start:E,end:D,active:W}=u,N=[];for(let xt=E;xt<D;xt++)N.push(xt);W?m=Xi(m,N):m=[...m,...N],C=c.indexOf(E);break}case sr:{p=u.index,C=1/0;break}case ar:{let E=c.indexOf(u.actionId);E!==-1&&(p=E),C=1/0;break}case rr:{c=Xi(c,m),m=[],p=Math.min(p,c.length-1);break}case Re:{if(P)return a||t;if(F||a&&Dn(a.computedStates[p],u,r.predicate,r.actionsSafelist,r.actionsBlocklist)){let D=f[f.length-1];f=[...f.slice(0,-1),yr(o,u.action,D.state,D.error,n)],C=1/0;break}r.maxAge&&c.length===r.maxAge&&U(1),p===c.length-1&&p++;let E=v++;s[E]=u,c=[...c,E],C=c.length-1;break}case bn:{({monitorState:d,actionsById:s,nextActionId:v,stagedActionIds:c,skippedActionIds:m,committedState:M,currentStateIndex:p,computedStates:f,isLocked:P,isPaused:F}=u.nextLiftedState);break}case we:{C=0,r.maxAge&&c.length>r.maxAge&&(f=St(f,C,o,M,s,c,m,n,F),U(c.length-r.maxAge),C=1/0);break}case ct:{if(f.filter(D=>D.error).length>0)C=0,r.maxAge&&c.length>r.maxAge&&(f=St(f,C,o,M,s,c,m,n,F),U(c.length-r.maxAge),C=1/0);else{if(!F&&!P){p===c.length-1&&p++;let D=v++;s[D]=new Ce(u,+Date.now()),c=[...c,D],C=c.length-1,f=St(f,C,o,M,s,c,m,n,F)}f=f.map(D=>b(g({},D),{state:o(D.state,os)})),p=c.length-1,r.maxAge&&c.length>r.maxAge&&U(c.length-r.maxAge),C=1/0}break}default:{C=1/0;break}}return f=St(f,C,o,M,s,c,m,n,F),d=i(d,u),{monitorState:d,actionsById:s,nextActionId:v,stagedActionIds:c,skippedActionIds:m,committedState:M,currentStateIndex:p,computedStates:f,isLocked:P,isPaused:F}}}var Ji=(()=>{class e{constructor(n,i,r,o,a,u,d,s){let v=ss(d,s.monitor),c=as(d,v,u,s.monitor,s),m=Tt(Tt(i.asObservable().pipe(kn(1)),o.actions$).pipe(k(Te)),n,o.liftedActions$).pipe(Pe(je)),M=r.pipe(k(c)),p=mr(s.connectInZone),f=new En(1);this.liftedStateSubscription=m.pipe(Be(M),er(p),Ue(({state:U},[G,C])=>{let E=C(U,G);return G.type!==Re&&pr(s)&&(E=is(E,s.predicate,s.actionsSafelist,s.actionsBlocklist)),o.notify(G,E),{state:E,action:G}},{state:v,action:null})).subscribe(({state:U,action:G})=>{if(f.next(U),G.type===Re){let C=G.action;a.next(C)}}),this.extensionStartSubscription=o.start$.pipe(er(p)).subscribe(()=>{this.refresh()});let P=f.asObservable(),F=P.pipe(k(dr));Object.defineProperty(F,"state",{value:Me(F,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=n,this.liftedState=P,this.state=F}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(n){this.dispatcher.next(n)}next(n){this.dispatcher.next(n)}error(n){}complete(){}performAction(n){this.dispatch(new Ce(n,+Date.now()))}refresh(){this.dispatch(new un)}reset(){this.dispatch(new ln(+Date.now()))}rollback(){this.dispatch(new dn(+Date.now()))}commit(){this.dispatch(new hn(+Date.now()))}sweep(){this.dispatch(new fn)}toggleAction(n){this.dispatch(new pn(n))}jumpToAction(n){this.dispatch(new gn(n))}jumpToState(n){this.dispatch(new mn(n))}importState(n){this.dispatch(new yn(n))}lockChanges(n){this.dispatch(new vn(n))}pauseRecording(n){this.dispatch(new _n(n))}static{this.\u0275fac=function(i){return new(i||e)(h(Ft),h(H),h(re),h(gr),h(Oe),h(Gn),h(xe),h(Mt))}}static{this.\u0275prov=j({token:e,factory:e.\u0275fac})}}return e})();function er({ngZone:e,connectInZone:t}){return n=>t?new J(i=>n.subscribe({next:r=>e.run(()=>i.next(r)),error:r=>e.run(()=>i.error(r)),complete:()=>e.run(()=>i.complete())})):n}var cs=new l("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function us(e,t){return!!e||t.monitor!==lr}function ls(){let e="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[e]<"u"?window[e]:null}function ds(e={}){return kt([gr,Ft,Ji,{provide:Qi,useValue:e},{provide:cs,deps:[Cn,Mt],useFactory:us},{provide:Cn,useFactory:ls},{provide:Mt,deps:[Qi],useFactory:es},{provide:ge,deps:[Ji],useFactory:hs},{provide:me,useExisting:Ft}])}function hs(e){return e.state}var vr=(()=>{class e{static instrument(n={}){return{ngModule:e,providers:[ds(n)]}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=I({type:e})}static{this.\u0275inj=S({})}}return e})();var Y=class{id;texto;completado;constructor(t){this.texto=t,this.id=Math.random(),this.completado=!1}};var fs=[new Y("Salvar el mundo"),new Y("Vencer Thanos"),new Y("Comprar traje de Iron Man"),new Y("Quitar escudo de capitan am\xE9rica")],_r=ut(fs,q(lt,(e,{texto:t})=>[...e,new Y(t)]),q(pt,(e,{id:t})=>e.filter(n=>n.id!==t)),q(mt,e=>e.filter(t=>t.completado!==!0)),q(ht,(e,{id:t})=>e.map(n=>n.id===t?b(g({},n),{completado:!n.completado}):n)),q(dt,(e,{completado:t})=>e.map(n=>b(g({},n),{completado:t}))),q(ft,(e,{id:t,texto:n})=>e.map(i=>i.id===t?b(g({},i),{texto:n}):i)));var ps="todos",Cr=ut(ps,q(yt,(e,{filtro:t})=>t));var br={todos:_r,filtro:Cr};var wt=class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=I({type:e,bootstrap:[_e]});static \u0275inj=S({providers:[Qn()],imports:[Kn,rt,ot,Et,Ki.forRoot(br),vr.instrument({maxAge:25,logOnly:!Qe()})]})};var An=class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=I({type:e,bootstrap:[_e]});static \u0275inj=S({imports:[wt,Xn]})};export{An as a};
